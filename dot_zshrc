autoload -Uz compinit
compinit

setopt AUTO_CD # treat bare directory inputs like a cd
setopt AUTO_PUSHD # all cd are implicitly pushd
setopt NOTIFY # notify background job status immediately instead of waiting for next prompt
setopt MARK_DIRS # append trailing / when completing directory names
setopt HIST_EXPIRE_DUPS_FIRST
setopt HISTIGNORESPACE # commands starting with a space aren't added to history
setopt HIST_FIND_NO_DUPS # Don't show duplicates when finding history
setopt SHARE_HISTORY # Multiple sessions all get the same history file immediately

# Used for rootless globally installed npm modules
# See https://stackoverflow.com/questions/18088372/how-to-npm-install-global-not-as-root
export PATH=$HOME/.local/bin:$PATH
export EDITOR=vim

# Using the 1Password SSH agent
export SSH_AUTH_SOCK=~/Library/Group\ Containers/2BUA8C4S2C.com.1password/t/agent.sock

export HISTFILE=$HOME/.zsh_history
export HISTSIZE=10000
export SAVEHIST=10000

# Put npm's "global" under my home dir so I don't need root
export npm_config_prefix=$HOME/.local/npm-packages
export PATH=$npm_config_prefix/bin:$PATH

# Zig 0.14.1 (keg-only version)
export PATH="/opt/homebrew/opt/zig@0.14/bin:$PATH"

alias ll="ls -l --color=auto"
alias la="ll -a"


# FZF can be installed as a vim plugin, but my .vimrc installs it to .fzf
# Add that to the path.
export PATH=$HOME/.fzf/bin:$PATH

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

source $HOME/bin/groom_history_function.zsh

# Anthropic Claude
# Unset because Clode Code wants to the use the Anthropic Console key
# export ANTHROPIC_API_KEY="$(cat $HOME/.anthropic_api_key)"

# starship prompt
eval "$(starship init zsh)"

# INSTINCT
export ASDF_DATA_DIR="$HOME/.asdf"
export PATH="$ASDF_DATA_DIR/shims:$PATH"
# Refresh auth token with expanded scopes to gain read access to the github package repo for npm
# https://cli.github.com/manual/gh_auth_refresh
export WS_GITHUB_TOKEN=$(gh auth token)

export DEV_SCRIPTS_DIR=$HOME/dev/instinctscience/dev_scripts
source $DEV_SCRIPTS_DIR/init_dev_scripts.sh
# The following lines have been added by Docker Desktop to enable Docker CLI completions.
fpath=(/Users/hovis/.docker/completions $fpath)
autoload -Uz compinit
compinit
# End of Docker CLI completions
